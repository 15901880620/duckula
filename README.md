#           欢迎使用duckula

![图片](https://github.com/rjzjh/duckula/wiki/images/duckula.jpg)

## 一个故事

 duckula原自英国动画片《怪鸭历险记 》，百度介绍：    

&#8195;&#8195;达寇拉，是居住在特兰斯瓦尼亚城堡里吸血伯爵。虽然暴露于阳光或者被木桩刺透心脏都会让他死去，但是他却能够通过一种神秘的仪式再次 地复活。然而，当最近一次仪式举行的时候，本该倒入棺材的血液错被错拿成了蕃茄汁――于是，重生的达寇拉伯爵变成为了一只只会吃素、略有点 神经质的绿鸭子。他有两个仆人：雨果，是一只年迈的老鹰，一辈子都在这个城堡里做管家，对达寇拉家族忠心耿耿。 女仆南妮负责照顾达寇拉伯 爵的饮食起居，不爱走门，总是撞墙而入，令人哭笑不得。 达寇拉伯爵还有一个死敌葛斯威恩博士，在原著中是著名的除妖大侠范海辛，在这部动 画片里，却成了一个戴眼镜的鸭子，他发誓要除掉吸血鬼伯爵，执著地追杀达寇拉。还有四个大笨贼，他们总是觉得这个城堡里会有宝藏，可是没 有一次得逞。达寇拉伯爵居住的城堡很神奇，可以瞬间移动，所以达寇拉总是能够随心所欲的到世界各地冒险，但是城堡的移动是有时间限制的， 时间一到，自动回到特兰斯瓦尼亚。 故事就是围绕着这些人物展开的，一次又一次冒险旅行，一个又一个搞怪的情节，带我们走进这个恐怖的鸭子 世界。这个故事里面充满了笑料与调侃，有一种无厘头式的幽默，是对英国传统故事的改编，让人以一种轻松的心情来观看吸血鬼主题的动画片， 带给了我们非常多的欢笑。    

&#8195;&#8195;分布式binlog监听中间件.duckula能像吸血鬼一样从各mysql实例中得到变化的数据,又能自动复活(HA).支持插件化数据接收者和序列化.非常灵 活.,可在自定义接收者,项目内置了kafka和redis接收者,也可以自定义序列化格式,项目也内置了protobuf2/protobuf3序列化.通过插件的形式嵌入到 duckula. 具有丰富的界面操作,可以通过页面操作进行任务的创建,任务的启动与停止.合适的调度策略,当某个task由于某种原因"自杀"后,系统会自动 选择其它占用资源较少的服务器来运行此task.支持GTID和文件名+位置的2种形式的起动监听方式,且可以选择以前的任何位点进行监听(只要能起得 来).支持docker.支持metrics的计数(现只是打好日志,后续会加入界面查看).

## 功能模块简介
duckula专注于数据的实时推送，它分为四大模块：
1. binlog在线监听
   实时监听mysql的binlog，并解析后推送kafka等存储中间件（也有es和redis等，但kafka适用最
   广泛，测试也最多）
2. binlog离线解析
   离线补数据用
3. kafka消费监听
   消费模块1推过来的数据，并把这些数据存放到ES/mysql等。(ES是重点功能，支持也最好)
4. 数据库全量导入
   把mysql的表数据全量导入到ES（暂时只支持ES，后续也会做插件化）
## 代码模块简介
- duckula-plugin-redis ............................redis发送者插件
- duckula-serializer-protobuf3 ...............pb3序列化插件
- duckula-serializer-protobuf2 ................pb2序列化插件
- duckula-serializer-thrift .........................thrift序列化插件
- duckula-common ...................................公共的引用模块
- duckula-task ...........................................binlog监听模块
- duckula-plugin-kafka .............................发送kafka发送者插件
- duckula-plugin-elasticsearch .................直接发送ES的插件
- duckula-busi-filter ....................................过虑器插件（暂不用）
- duckula-dump-elasticsearch ..................全量导入ES的模块
- duckula-kafka-consumer ........................消息kafka数据的模块
- duckula-install ..........................................打包安装模块
- duckula-ops Tapestry 5 Application .......ops控制台模块
 ## 一此依赖版本(在开发时使用了下面版本，更多的版本未做测试)
- JDK8
- zookeeper   3.5.3-beta
- kafka 1.0.2
- es 6.3.2
- mysql: 5.6
- k8s   1.10.11
- tiller 2.11.0
- docker 18.09.02

